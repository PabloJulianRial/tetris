(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&a(u)}).observe(document,{childList:!0,subtree:!0});function r(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function a(o){if(o.ep)return;o.ep=!0;const l=r(o);fetch(o.href,l)}})();const A={id:1,yPos:0,xPos:100,width:40,variation:0,color:"blue",lineTo:[[100,-20],[140,-20],[140,20],[100,20],[100,-20]]},H={id:2,yPos:0,xPos:100,width:80,is90:!1,variation:0,color:"green",rotate(){this.is90?(this.lineTo[0]=[this.lineTo[0][0]-40,this.lineTo[0][1]+40],this.lineTo[1]=[this.lineTo[1][0]+40,this.lineTo[1][1]-40],this.lineTo[2]=[this.lineTo[2][0]+60,this.lineTo[2][1]-20],this.lineTo[3]=[this.lineTo[3][0]-20,this.lineTo[3][1]+60],this.lineTo[4]=[this.lineTo[4][0]-40,this.lineTo[4][1]+40],this.is90=!1):(this.lineTo[0]=[this.lineTo[0][0]+40,this.lineTo[0][1]-40],this.lineTo[1]=[this.lineTo[1][0]-40,this.lineTo[1][1]+40],this.lineTo[2]=[this.lineTo[2][0]-60,this.lineTo[2][1]+20],this.lineTo[3]=[this.lineTo[3][0]+20,this.lineTo[3][1]-60],this.lineTo[4]=[this.lineTo[4][0]+40,this.lineTo[4][1]-40],this.is90=!0)},lineTo:[[100,0],[180,0],[180,20],[100,20],[100,0]]},N={id:3,yPos:0,xPos:100,width:40,is90:!1,is180:!1,is360:!1,variation:0,color:"yellow",rotate(){!this.is90&&!this.is180&&!this.is270?(this.lineTo[0]=[this.lineTo[0][0],this.lineTo[0][1]+20],this.lineTo[1]=[this.lineTo[1][0]+60,this.lineTo[1][1]-40],this.lineTo[2]=[this.lineTo[2][0]+20,this.lineTo[2][1]-20],this.lineTo[3]=[this.lineTo[3][0]-20,this.lineTo[3][1]],this.lineTo[4]=[this.lineTo[4][0],this.lineTo[4][1]+20],this.lineTo[5]=[this.lineTo[5][0]-20,this.lineTo[5][1]+60],this.lineTo[6]=[this.lineTo[6][0],this.lineTo[6][1]+20],console.log(this.lineTo),this.is90=!0):(this.is90=!0)&&(this.lineTo[0]=[this.lineTo[0][0],this.lineTo[0][1]-20],this.lineTo[1]=[this.lineTo[1][0]-60,this.lineTo[1][1]+40],this.lineTo[2]=[this.lineTo[2][0]-20,this.lineTo[2][1]+20],this.lineTo[3]=[this.lineTo[3][0]+20,this.lineTo[3][1]],this.lineTo[4]=[this.lineTo[4][0],this.lineTo[4][1]-20],this.lineTo[5]=[this.lineTo[5][0]+20,this.lineTo[5][1]-60],this.lineTo[6]=[this.lineTo[6][0],this.lineTo[6][1]-20],this.is180=!1,this.is90=!1)},lineTo:[[100,-40],[100,20],[140,20],[140,0],[120,0],[120,-40],[100,-40]]},B={id:4,yPos:0,xPos:100,width:40,is90:!1,is180:!1,is270:!1,is360:!1,variation:0,color:"pink",rotate(){!this.is90&&!this.is180&&!this.is270&&(this.lineTo[0]=[this.lineTo[0][0],this.lineTo[0][1]+20],this.lineTo[1]=[this.lineTo[1][0],this.lineTo[1][1]],this.lineTo[2]=[this.lineTo[2][0]+20,this.lineTo[2][1]],this.lineTo[3]=[this.lineTo[3][0]+20,this.lineTo[3][1]],this.lineTo[4]=[this.lineTo[4][0]-40,this.lineTo[4][1]],this.lineTo[5]=[this.lineTo[5][0]-40,this.lineTo[5][1]+20],this.lineTo[6]=[this.lineTo[6][0],this.lineTo[6][1]+20],console.log(this.lineTo),this.is90=!0)},lineTo:[[100,20],[100,0],[120,0],[120,-40],[140,-40],[140,20],[100,20]]},O={id:5,yPos:0,xPos:100,width:60,is90:!1,is180:!1,is270:!1,is360:!1,variation:0,color:"orange",rotate(){},lineTo:[[100,-20],[160,-20],[160,0],[140,0],[140,20],[120,20],[120,0],[100,0],[100,-20],[100,-20]]},F={id:6,yPos:0,xPos:100,width:60,is90:!1,variation:0,color:"brown",rotate(){},lineTo:[[100,-20],[140,-20],[140,0],[160,0],[160,20],[120,20],[120,0],[100,0],[100,0]]},R={id:7,yPos:0,xPos:100,width:60,is90:!1,variation:0,color:"red",rotate(){},lineTo:[[100,20],[100,0],[120,0],[120,-20],[160,-20],[160,0],[140,0],[140,20],[100,20]]},m=[A,H,N,B,O,F,R],G={id:1,speed:0,color:"blue",lineTo:[[30,20],[50,20],[50,40],[30,40],[30,20]]},C={id:2,speed:0,color:"green",rotate(){},lineTo:[[10,20],[10,30],[50,30],[50,20],[10,20]]},D={id:3,speed:0,color:"yellow",rotate(){},lineTo:[[20,10],[20,40],[50,40],[50,30],[30,30],[30,10],[20,10]]},K={id:4,speed:0,color:"pink",rotate(){},lineTo:[[30,10],[40,10],[40,40],[20,40],[20,30],[30,30],[30,10]]},U={id:5,speed:0,color:"orange",rotate(){},lineTo:[[15,20],[45,20],[45,30],[35,30],[35,40],[25,40],[25,30],[15,30],[15,20]]},j={id:6,speed:0,color:"brown",rotate(){},lineTo:[[40,20],[20,20],[20,30],[30,30],[30,40],[50,40],[50,30],[40,30],[40,20]]},z={id:7,speed:0,color:"red",rotate(){},lineTo:[[30,20],[50,20],[50,30],[40,30],[40,40],[20,40],[20,30],[30,30],[30,20]]},J=[G,C,D,K,U,j,z],V=[{username:"Athish",score:2e3},{username:"Emma",score:3e3},{username:"Baheer",score:7e3},{username:"Michaela",score:5e3},{username:"Michaela",score:5e3},{username:"Michaela",score:5e3}],n=V.sort((e,t)=>t.score-e.score),x=document.querySelector(".game"),y=document.querySelector("#form"),Z=document.querySelector("#tetrisMusic"),P=document.querySelector(".game__display__stats__level"),S=document.querySelector(".game__display__stats__score"),w=document.querySelector(".game__display__stats__lines"),_=document.querySelector(".game__display__stats__user"),E=document.querySelector(".game__display__scores__one"),L=document.querySelector(".game__display__scores__two"),$=document.querySelector(".game__display__scores__three"),q=document.querySelector(".game__display__scores__four"),b=document.querySelector(".game__display__scores__five"),M=document.querySelector(".game__display__scores__six"),Q=document.querySelector(".game__display__next__item"),h=document.getElementById("game__board"),W=document.getElementById("next1"),X=document.getElementById("next1"),s=h.getContext("2d"),c=W.getContext("2d"),Y=X.getContext("2d");if(!Z||!y||!x||!s||!Q||!c||!Y||!P||!S||!w||!_||!E||!L||!$||!q||!b||!M)throw new Error("Error rendering game");const ee=500;let d=[],k=[];for(let e=0;e<ee;e++){const t=Math.floor(Math.random()*m.length),r=m[t];d.push({...r})}let T="",i=d[0],te=1,ie=1,oe=10,se=20;P.innerText=`LEVEL ${te}`;S.innerText=`Score  ${ie}`;w.innerText=`Lines ${oe}`;_.innerHTML=`<div><h5> P1:${T}</h5></div>`;E.innerHTML=`<div>1st ${n[0].username}</div><div> ${n[0].score}</div>`;L.innerHTML=`<div>1st ${n[1].username}</div><div> ${n[1].score}</div>`;$.innerHTML=`<div>1st ${n[2].username}</div><div> ${n[2].score}</div>`;q.innerHTML=`<div>1st ${n[3].username}</div><div> ${n[3].score}</div>`;b.innerHTML=`<div>1st ${n[4].username}</div><div> ${n[4].score}</div>`;M.innerHTML=`<div>1st ${n[5].username}</div><div> ${n[5].score}</div>`;const ne=()=>{i.yPos<380&&i.xPos>=0&&i.xPos+i.width<=250&&(ce(),ae(),v(),console.log(m)),i.yPos===380&&(k.push(i),d.shift(),i=d[0],v())},le=e=>{e.preventDefault(),T=document.getElementById("username").value,document.getElementById("username").value="",x.style.display="flex",y.style.display="none",console.log("Game started for user:",T),_.innerHTML=`<h6>${T}</h6>`},re=e=>{e.key==="ArrowLeft"?i.xPos>10&&(i.lineTo.forEach(t=>{t[0]-=20}),i.xPos-=20):e.key==="ArrowRight"?i.xPos-i.width<280&&(i.lineTo.forEach(t=>{t[0]+=20}),i.xPos+=20):e.key==="ArrowUp"&&i.rotate&&i.rotate()};y.addEventListener("submit",le);document.addEventListener("keydown",re);const ce=()=>{s.clearRect(0,0,h.width,h.height),s.beginPath(),s.strokeStyle="black",s.fillStyle=`${i.color}`,i.lineTo.forEach(e=>{const t=e[0],r=e[1]+i.yPos;s.lineTo(t,r)}),s.stroke(),s.fill(),i.yPos+=1},v=()=>{k.forEach(e=>{s.beginPath(),s.strokeStyle="black",s.fillStyle=`${e.color}`,e.lineTo.forEach(t=>{const r=t[0],a=t[1]+e.yPos;s.lineTo(r,a)}),s.stroke(),s.fill()})},ae=()=>{c.clearRect(0,0,h.width,h.height),J.forEach(e=>{d[1].id===e.id&&(c.beginPath(),c.moveTo(30,20),c.strokeStyle="black",c.fillStyle=`${e.color}`,e.lineTo.forEach(t=>{const r=t[0],a=t[1];c.lineTo(r,a)}),c.stroke(),c.fill())})};let f=null,p=!1;const I=()=>{f=setInterval(ne,se)},he=()=>{clearInterval(f),f=null,p=!0},de=()=>{I(),p=!1},Te=()=>{p?de():he()},g=document.querySelector(".button__pause");g&&g.addEventListener("click",Te);I();
